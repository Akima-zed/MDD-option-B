<app-header></app-header>

<div class="profile-container">
  <div class="profile-content">
    <button mat-icon-button routerLink="/feed" class="back-button" aria-label="Retour">
      <mat-icon>arrow_back</mat-icon>
    </button>

    <h1>Profil utilisateur</h1>

    <mat-card class="profile-card">
      <mat-card-content>
        <div class="user-info">
          <div class="info-section">
            <h2>Informations</h2>
            <div class="info-row">
              <span class="label">Nom :</span>
              <span class="value">{{ user.username }}</span>
            </div>
            <div class="info-row">
              <span class="label">Email :</span>
              <span class="value">{{ user.email }}</span>
            </div>
          </div>

          <div class="subscriptions-section">
            <h2>Abonnements</h2>
            <div class="themes-chips" *ngIf="subscribedThemes.length > 0">
              <mat-chip-list aria-label="Thèmes abonnés">
                <mat-chip *ngFor="let theme of subscribedThemes" 
                          [removable]="true"
                          (removed)="unsubscribe(theme)">
                  {{ theme.nom }}
                  <mat-icon matChipRemove>cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
            <p *ngIf="subscribedThemes.length === 0" class="no-subscriptions">
              Vous n'êtes abonné à aucun thème.
            </p>
          </div>
        </div>

      </mat-card-content>
    </mat-card>
  </div>
</div>
